<html>

<head>
    <title>撒達 · 艾德勒時鐘</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="box">

        <div class="clouds">
            <div></div>
            <div></div>
        </div>

        <div class="tentaclesB">
            <div></div>
            <div></div>
        </div>

        <div class="time">
            <div class="hour" id="HH"></div>
            <div class="blink" id="blink">
                <div></div>
                <div></div>
            </div>
            <div class="minute" id="MM"></div>
        </div>

        <div class="tentacles">
            <div></div>
            <div></div>
        </div>

        <div class="eyes"></div>
        <div class="textL"></div>
        <div class="textR"></div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        startTime();

        function startTime() {
            var today = new Date();
            var hh = today.getHours(),
                mm = today.getMinutes();

            hh = checkTime(hh);
            mm = checkTime(mm);

            $('#HH').html(hh);
            $('#MM').html(mm);
            var timeoutId = setTimeout(startTime, 1000);
        }

        function checkTime(i) {
            if (i < 10) {
                i = "0" + i;
            }
            return i;
        }

        setInterval(() => {
            let tR = 40 + Math.random() * 60,
                lR = 10 + Math.random() * 80,
                sizeR = 30 + Math.random() * 10

            if (lR > 15 && lR < 85) {
                let ar = [40, 90]
                tR = ar[Math.floor(Math.random() * 2)]
                console.log(lR + '/' + tR)
            }

            $('.eyes').css({
                'top': 'calc(' + tR + '% - ' + sizeR + 'px)',
                'left': 'calc(' + lR + '% - ' + sizeR + 'px)',
                'width': '0px',
                'height': '0px',
            })
            setTimeout(() => {
                $('.eyes').animate({
                    'width': sizeR + 'px',
                    'height': sizeR + 'px',
                }, 500)
            }, 100);

            setTimeout(() => {
                $('.eyes').animate({
                    'width': '0px',
                    'height': '0px',
                }, 500)
            }, 8000);

        }, 10000);

        setInterval(() => {
            $('.textL').css({
                'top': 20 + Math.random() * 55 + '%',
                'background-image': 'url(img/text' + (Math.floor(Math.random() * 8) + 1) + '.png)'
            })

            $('.textL').delay(1000).fadeIn(500)
            
            $('.textL').delay(2500).fadeOut(500)


        }, 5000);
        
        setInterval(() => {

            $('.textR').css({
                'top': 20 + Math.random() * 55 + '%',
                'background-image': 'url(img/text' + (Math.floor(Math.random() * 8) + 1) + '.png)'
            })

            $('.textR').delay(2000).fadeIn(500)
            
            $('.textR').delay(3500).fadeOut(500)


        }, 6500);

    </script>
</body>

</html>